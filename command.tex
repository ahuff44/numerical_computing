%------------------------------------------------------------------------------%
% command.tex                                                                  %
% This file contains the various environments and other misc. commands         %
%------------------------------------------------------------------------------%

%%%%%%%%%%%%%%%%%%%%%
% Document settings
%%%%%%%%%%%%%%%%%%%%%
%set lengths that are pleasing for screen display.
\setlength{\paperheight}{11in}
\setlength{\paperwidth}{8.5in}

%set paragraph skips and line spacing
\linespread{1.05}
\setlength{\parskip} {2pt plus1pt minus1pt}

\makeatletter
%Make all floats centered
\g@addto@macro\@floatboxreset\centering
% Reset footnote counter every chapter
\@addtoreset{footnote}{chapter}
\makeatother

\floatstyle{ruled}
\restylefloat{algorithm}


%%%%%%%%%%%%%%%%%%%%%%%%
%Bibliography settings
%%%%%%%%%%%%%%%%%%%%%%%%
\addbibresource{references.bib}
\renewcommand{\bibname}{References}

%%%%%%%%%%%%%%%%%
% Lab Commands
%%%%%%%%%%%%%%%%%
\renewcommand{\chaptername}{Lab}
\newcommand{\lab}[3]{\chapter[#3]{#1: #2}}
\newcommand{\objective}[1]{{\bf Lab Objective: } \emph{#1} \bigskip}

%% Full line comments in the Algorithmic environment.
\algnewcommand{\LineComment}[1]{\State \(\triangleright\) #1}

%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem Environments
%%%%%%%%%%%%%%%%%%%%%%%%%
\newcounter{problemnum}[chapter]
\newenvironment{problem}{\begin{mdframed}[style=problem]\begin{problemnum}}{\end{problemnum}\end{mdframed}}
\newtheoremup{problemnum}{Problem}

%%%%%%%%%%%%%%%%%%%%%%%
% Frame environments
%%%%%%%%%%%%%%%%%%%%%%%
\definecolor{shadecolor}{gray}{0.90}
\mdfdefinestyle{problem}{backgroundcolor=shadecolor,
                         hidealllines=true,
                         skipabove=10pt,
                         skipbelow=10pt,
                         innertopmargin=15pt,
                         innerbottommargin=15pt,
                         innerleftmargin=15pt,
                         innerrightmargin=15pt}

\definecolor{warning}{RGB}{255,231,231}
\definecolor{warnline}{RGB}{255,15, 15}
\newmdenv[
  roundcorner=10pt,
  skipabove=10pt
  skipbelow=10pt
  leftmargin=20pt,
  rightmargin=20pt,
  backgroundcolor=warning,
  innertopmargin=10pt,
  innerbottommargin=10pt,
  innerleftmargin=10pt,
  middlelinewidth=0pt,
  everyline=true,
  linecolor=warnline,
  linewidth=1pt,
  font=\normalfont\normalsize,
  frametitlefont=\large\bfseries,
  frametitleaboveskip=1em,
  frametitlerule=true,
  frametitle={\sc Warning}
]{warn}

\definecolor{information}{RGB}{231,231,255}
\definecolor{infoline}{RGB}{15,15, 255}
\newmdenv[
  roundcorner=10pt,
  skipabove=10pt
  skipbelow=10pt
  leftmargin=20pt,
  rightmargin=20pt,
  backgroundcolor=information,
  innertopmargin=10pt,
  innerbottommargin=10pt,
  innerleftmargin=10pt,
  middlelinewidth=0pt,
  everyline=true,
  linecolor=infoline,
  linewidth=1pt,
  font=\normalfont\normalsize,
  frametitlefont=\large\bfseries,
  frametitleaboveskip=1em,
  frametitlerule=true,
  frametitle={\sc Note}
]{info}

%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Listings Environments
%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Default Environment
\lstset{
        language=python,
        backgroundcolor=\color[rgb]{.98,.98,.98},
        tabsize=4,
        rulecolor=,
        basicstyle=\footnotesize\ttfamily,
        upquote=true,
        columns=fixed,
        extendedchars=true,
        breaklines=true,
        prebreak = \raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
        frame=single,
        showtabs=false,
        showspaces=false,
        showstringspaces=false,
        keywordstyle=\color[rgb]{0,0,1},
        commentstyle=\color[rgb]{0.133,0.545,0.133},
        stringstyle=\color[rgb]{0.627,0.126,0.941},
        title=\lstname,
        captionpos=b,
        abovecaptionskip=-5pt,
        belowcaptionskip=-5pt
}

% Including source code from a file on disk
\lstdefinestyle{FromFile}{language=python,
                          frame=single,
                          numbers=left,
                          numberstyle=\tiny,
                          stepnumber=2,
                          numbersep=7pt,
                          numberfirstline=true,
                          abovecaptionskip=2pt,
                          belowcaptionskip=2pt}

% Shell I/O.  Avoids syntax highlighting
\lstdefinestyle{ShellOutput}{language=}
\lstdefinestyle{ShellInput}{language=bash}

% Deprecated Environments (Replaced by Algorithmic package)
\lstdefinestyle{pseudo}{basicstyle=\rmfamily,
                        upquote=true,
                        keywordstyle=\color{black}\bfseries,
                        commentstyle=\color[rgb]{0.133,0.545,0.133},
                        stringstyle=\color[rgb]{0.627,0.126,0.941},}

\newcommand{\pseudoli}[1]{\lstinline[style=pseudo]!#1!}

%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Special Math Characters
%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\0{{\bf 0}}
\def\a{{\bf a}}
\def\b{{\bf b}}
\def\e{{\bf e}}
\def\p{{\bf p}}
\def\q{{\bf q}}
\def\u{{\bf u}}
\def\v{{\bf v}}
\def\w{{\bf w}}
\def\x{{\bf x}}
\def\y{{\bf y}}
\def\z{{\bf z}}
\def\subspace{\lhd}

\def\CalL{\mathcal{L}}
\def\CalO{\mathcal{O}}
\def\CalV{\mathcal{V}}
\def\CalU{\mathcal{U}}
\def\bU{{\bar{u}}}
\def\R{\Re e}
\def\I{\Im m}
\def\M{M_n}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Various commands that make life easier
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\argmax}{\mbox{argmax}}
\newcommand{\indicator}[1]{\mathbbm{1}_{\left[#1\right] }}
\providecommand{\abs}[1]{\left\lvert#1\right\rvert}
\providecommand{\norm}[1]{\left\lVert#1\right\rVert}
\providecommand{\set}[1]{\lbrace#1\rbrace}
\providecommand{\setconstruct}[2]{\lbrace#1:#2\rbrace}
\providecommand{\Res}[1]{\underset{#1}{Res}}           % Residue

\newcommand{\li}[1]{\lstinline[prebreak=]!#1!}

\newcommand{\ipt}[2]{\langle #1,#2 \rangle}
\newcommand{\ip}{\int_{-\infty}^{+\infty}}

\renewcommand{\ker}[1]{\mathcal{N}(#1)}
\newcommand{\ran}[1]{\mathcal{R}(#1)}

